##############################################################################
#
#    Copyright 2012 - 2019 Vivante Corporation, Santa Clara, California.
#    All Rights Reserved.
#
#    Permission is hereby granted, free of charge, to any person obtaining
#    a copy of this software and associated documentation files (the
#    'Software'), to deal in the Software without restriction, including
#    without limitation the rights to use, copy, modify, merge, publish,
#    distribute, sub license, and/or sell copies of the Software, and to
#    permit persons to whom the Software is furnished to do so, subject
#    to the following conditions:
#
#    The above copyright notice and this permission notice (including the
#    next paragraph) shall be included in all copies or substantial
#    portions of the Software.
#
#    THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
#    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
#    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT.
#    IN NO EVENT SHALL VIVANTE AND/OR ITS SUPPLIERS BE LIABLE FOR ANY
#    CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
#    TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
#    SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
#
##############################################################################


#
# Definitions for DirectFB unit test.
#

##############################################
# Include the global difinitions.

include $(AQROOT)/makefile.linux.def

################################################################################
# Supply additional include directories.

INCLUDE := -I$(DFB_DIR)/include/directfb

CFLAGS	+= $(INCLUDE)

################################################################################
# Supply additional flags.

CDEFS	:=	-DSTDC_HEADERS=1 \
			-D_GNU_SOURCE \
			-D_REENTRANT \
			-DHAVE_STDBOOL_H=1 \
			-DHAVE_SYS_STAT_H=1 \
			-DHAVE_STDLIB_H=1 \
			-DHAVE_STRING_H=1 \
			-DHAVE_MEMORY_H=1 \
			-DHAVE_STRINGS_H=1 \
			-DHAVE_INTTYPES_H=1 \
			-DHAVE_STDINT_H=1 \
			-DHAVE_UNISTD_H=1 \
			-DHAVE_SYS_TYPES_H=1 \
			-DPACKAGE_NAME=\"\" \
			-DPACKAGE_TARNAME=\"\" \
			-DPACKAGE_VERSION=\"\" \
			-DPACKAGE_STRING=\"\" \
			-DPACKAGE_BUGREPORT=\"\" \
			-DVERSION=\"0.1\" \
			-DPACKAGE=\"gfx-unit-test\"

CFLAGS	+= $(CDEFS)

CFLAGS	+= -pipe

DIRECTFB_MAJOR_VERSION ?= 1
DIRECTFB_MINOR_VERSION ?= 4
DIRECTFB_MICRO_VERSION ?= 0

CFLAGS += -DDIRECTFB_MAJOR_VERSION=$(DIRECTFB_MAJOR_VERSION) -DDIRECTFB_MINOR_VERSION=$(DIRECTFB_MINOR_VERSION) -DDIRECTFB_MICRO_VERSION=$(DIRECTFB_MICRO_VERSION)

################################################################################
# Supply necessary libraries.

LIBS	+= -L$(DFB_DIR)/lib -ldirectfb -lfusion -ldirect
LIBS	+= -lpthread -lm -lz

################################################################################
# Installation directory.

INSTALL_DIR	:= $(SDK_DIR)/samples/gfx
